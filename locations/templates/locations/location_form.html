{% extends 'places_core/base.html' %}
{% load staticfiles %}{% load i18n %}

{% block title %}{% trans "Create location" %}{% endblock %}

{% block require_scripts %}
<script>
window.COUNTRIES = [];
{% for c in countries %}
window.COUNTRIES.push({id:"{{ c.location.pk }}",name:"{{ c.location.name }}"});
{% endfor %}
</script>
<script data-main="{% static 'places_core' %}/js/build/locations/create/location-create-built.js" src="{% static 'places_core' %}/includes/require/require.js"></script>
{% endblock %}

{% block content %}

<div class="col-sm-3 top15">
    <div class="sidebar left">
        <div class="sidebar-label">{% trans "Rules" %}</div>
        <div class="sidebar-content"></div>
    </div>
</div>

<div class="col-sm-9 main-content top15">
    <div class="create-form">
        {% if action and action == 'edit' %}
            <h3>{% trans "Edit location" %}</h3>
            <form class="form-horizontal" role="form" action="{% url 'locations:update' location.slug %}" enctype="multipart/form-data" method="post" id="new-location-form">
        {% else %}
            <h3>{% trans "Create location" %}</h3>
            <form class="form-horizontal" role="form" action="{% url 'locations:create' %}" enctype="multipart/form-data" method="post" id="new-location-form">
        {% endif %}
            {% csrf_token %}
            {{ form.as_p }}
            <div class="form-group">
                <div class="col-sm-2">&nbsp;</div>
                <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary">{% trans "Create new location" %}</button>
                </div>
            </div>
        </form>
        
    </div>
    
</div>
{% endblock %}